spring.application.name=ESIMedia

# Configuración del servidor
server.port=9090
server.max-http-header-size=65536
server.max-http-request-header-size=65536

# Configuración de MongoDB usando variables de entorno
spring.data.mongodb.uri=mongodb://${MONGODB_USERNAME}:${MONGODB_PASSWORD}@ac-gyeosuw-shard-00-00.6o2n9e1.mongodb.net:27017,ac-gyeosuw-shard-00-01.6o2n9e1.mongodb.net:27017,ac-gyeosuw-shard-00-02.6o2n9e1.mongodb.net:27017/${MONGODB_DATABASE}?ssl=true&replicaSet=atlas-yvzaia-shard-0&authSource=admin&retryWrites=true&w=majority
spring.data.mongodb.database=${MONGODB_DATABASE:esimedia-G07}

# Configuración adicional de Spring
spring.main.allow-bean-definition-overriding=true
spring.data.mongodb.auto-index-creation=true

# Configuración JWT
token.secret=${TOKEN_SECRET}
token.expiration=${TOKEN_EXPIRATION_MS:86400000}

# Configuración Antivirus ClamAV
antivirus.enabled=true
antivirus.clamav.host=${CLAMAV_HOST:localhost}
antivirus.clamav.port=${CLAMAV_PORT:3310}
antivirus.clamav.timeout=${CLAMAV_TIMEOUT:30}

# Configuración de formato de fechas (ISO 8601)
spring.jackson.date-format=yyyy-MM-dd'T'HH:mm:ss.SSSXXX
spring.jackson.time-zone=UTC
spring.jackson.serialization.write-dates-as-timestamps=false

# Configuración de Email
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=proyectointegradopruebas@gmail.com
spring.mail.password=${EMAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
email.remitente=proyecto.integrado.iso@gmail.com
email.passwordApp=${EMAIL_PASSWORD_APP}
email.confirmationUrl=${EMAIL_CONFIRMATION_URL}
email.resetPasswordUrl=${EMAIL_RESET_URL}
email.smtp.auth=true
email.smtp.starttls.enable=true
email.smtp.host=smtp.gmail.com
email.smtp.port=587
email.smtp.debug=false

# # Configuración de logging para debug de MongoDB
# logging.level.org.springframework.data.mongodb=DEBUG
# logging.level.org.springframework.security=DEBUG
# logging.level.org.springframework.security.web=DEBUG
# logging.level.org.springframework.security.config=DEBUG
# Pepper para hashing seguro de contraseñas (¡cambia este valor en producción!)
app.security.pepper={PEPER_VALUE}

# ========================================================================
# Configuración de Leak-Lookup API para verificación de brechas de datos
# ========================================================================
# API Key para Leak-Lookup (obtener en https://leaklookup.com)
leak-lookup.api-key=${LEAK_LOOKUP_API_KEY:5a1e5e8f4470da68b2fad056f72ba737}

# Habilitar/deshabilitar verificación contra brechas de datos
# En desarrollo: false, En producción: true
leak-lookup.enabled=${LEAK_LOOKUP_ENABLED:true}

# Timeout de conexión a Leak-Lookup (ms)
leak-lookup.connection-timeout=5000

# Timeout de lectura de respuesta (ms)
leak-lookup.read-timeout=10000

# SendGrid (API key)
sendgrid.api.key=${SENDGRID_API_KEY}