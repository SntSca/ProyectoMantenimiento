<div class="inicio-container comun-variant">
  <div class="inicio-card">
    
    <header class="app-header comun-variant">
      <div class="login-logo">
        <div class="logo-icon"></div>
        <h1 class="brand-name">esiMedia</h1>
      </div>

      <div class="header-content">
        <h2 class="header-title">Verificar Email</h2>
        <p class="header-subtitle">
          Hemos enviado un c贸digo de verificaci贸n de 6 d铆gitos a tu correo electr贸nico. 
          Ingresa el c贸digo para continuar con el proceso de autenticaci贸n.
        </p>
      </div>
    </header>

    <!-- Formulario de verificaci贸n -->
    <form class="login-form" [formGroup]="verifyEmailForm" (ngSubmit)="onVerifyEmail()" *ngIf="!codeVerified">
      <div class="form-group">
        <label for="verificationCode" class="form-label">C贸digo de Verificaci贸n</label>
        <div class="input-wrapper">
          <input
            type="text"
            id="verificationCode"
            class="form-input verification-code"
            [class.invalid]="isFieldInvalid('verificationCode')"
            placeholder="000000"
            formControlName="verificationCode"
            maxlength="6"
            pattern="[0-9]{6}"
          >
        </div>
        <div class="field-helper">
          <span class="helper-text">Ingresa el c贸digo de 6 d铆gitos enviado a tu email</span>
        </div>
        <div class="error-message" *ngIf="isFieldInvalid('verificationCode')">
          {{ getFieldError('verificationCode') }}
        </div>
        <div class="error-message" *ngIf="errorMessage">
          {{ errorMessage }}
        </div>
      </div>

      <button
        type="submit"
        class="login-btn"
        [disabled]="verifyEmailForm.invalid || isLoading"
      >
        <span class="btn-content" *ngIf="!isLoading">
          <span class="btn-icon"></span>
          <span class="btn-text">Verificar C贸digo</span>
        </span>
        <span class="loading-spinner" *ngIf="isLoading">
          <span class="spinner"></span>
          <span class="loading-text">Verificando c贸digo...</span>
        </span>
      </button>
    </form>

    <!-- Mensaje de 茅xito -->
    <div class="success-message" *ngIf="codeVerified">
      <header class="app-header compact minimal comun-variant">
        <div class="header-content">
          <h3 class="header-title">隆C贸digo verificado!</h3>
          <p class="header-subtitle" *ngIf="thirdFactorEnabled">
            Tu email ha sido verificado exitosamente. 
            Redirigiendo al siguiente paso...
          </p>
          <p class="header-subtitle" *ngIf="!thirdFactorEnabled">
            Tu email ha sido verificado exitosamente. 
            Redirigiendo al inicio...
          </p>
        </div>
      </header>
    </div>

    <!-- Separador -->
    <div class="separator" *ngIf="!codeVerified">
        <div class="separator-text">El c贸digo expira en 10 minutos por seguridad.</div>
    </div>
  </div>
</div>