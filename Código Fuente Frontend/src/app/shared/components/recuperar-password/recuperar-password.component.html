<div class="inicio-container comun-variant">
  <div class="inicio-card">
    <!-- Header del componente -->
    <header class="app-header comun-variant">
      <div class="login-logo">
        <div class="logo-icon"></div>
        <h1 class="brand-name">esiMedia</h1>
      </div>

      <div class="header-content">
        <h2 class="header-title">Recuperar Contrase帽a</h2>
        <p class="header-subtitle">Ingresa tu correo electr贸nico y te enviaremos un enlace para restablecer tu contrase帽a.</p>
      </div>
    </header>

    <!-- Formulario de recuperaci贸n -->
    <form class="login-form" [formGroup]="recoveryForm" (ngSubmit)="onRecuperarPassword()" *ngIf="!emailSent">
      <div class="form-group">
        <label for="email" class="form-label">Correo Electr贸nico</label>
        <div class="input-wrapper">
          <input
            type="email"
            id="email"
            class="form-input"
            [class.invalid]="isFieldInvalid('email')"
            placeholder="tu@ejemplo.com"
            formControlName="email"
          >
        </div>
        <div class="error-message" *ngIf="isFieldInvalid('email')">
          {{ getFieldError('email') }}
        </div>
        <div class="error-message" *ngIf="errorMessage">
          {{ errorMessage }}
        </div>
      </div>

      <button
        type="submit"
        class="login-btn"
        [disabled]="recoveryForm.invalid || isLoading"
      >
        <span class="btn-content" *ngIf="!isLoading">
          <span class="btn-icon"></span>
          <span class="btn-text">Enviar Enlace de Recuperaci贸n</span>
        </span>
        <span class="loading-spinner" *ngIf="isLoading">
          <span class="spinner"></span>
          <span class="loading-text">Enviando correo...</span>
        </span>
      </button>
    </form>

    <!-- Mensaje de 茅xito -->
    <div class="success-message" *ngIf="emailSent">
      <header class="app-header compact minimal comun-variant">
        <div class="header-content">
          <h3 class="header-title">隆Correo enviado!</h3>
          <p class="header-subtitle">
            Hemos enviado un enlace de recuperaci贸n a <strong>{{ email }}</strong>.
            Revisa tu bandeja de entrada y sigue las instrucciones.
          </p>
        </div>
      </header>
    </div>

    <!-- Separador -->
    <div class="separator" *ngIf="!emailSent">
      <span class="separator-text">驴Recordaste tu contrase帽a?</span>
    </div>

    <!-- Enlaces de navegaci贸n -->
    <div class="register-options" *ngIf="!emailSent">
      <button type="button" class="login-btn" [routerLink]="APP_ROUTES.home">
        <span class="btn-icon"></span>
        <span class="btn-text">Volver a la Pantalla de Inicio</span>
      </button>
    </div>

    <!-- Bot贸n de volver cuando el email fue enviado -->
    <div class="register-options" *ngIf="emailSent">
      <button type="button" class="login-btn" [routerLink]="APP_ROUTES.home">
        <span class="btn-icon"></span>
        <span class="btn-text">Volver a la Pantalla de Inicio</span>
      </button>
    </div>
  </div>
</div>